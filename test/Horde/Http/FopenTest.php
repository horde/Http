<?php
/**
 * Copyright 2007-2017 Horde LLC (http://www.horde.org/)
 *
 * @category   Horde
 * @package    Http
 * @subpackage UnitTests
 * @license    http://www.horde.org/licenses/bsd
 */
namespace Horde\Http;
use Horde_Http_TestBase as TestBase;
use \Horde_Http_Request_;

/**
 * @category   Horde
 * @package    Http
 * @subpackage UnitTests
 * @license    http://www.horde.org/licenses/bsd
 */
class FopenTest extends TestBase
{
    public function testBug12991()
    {
        $this->_skipMissingConfig();
        $client = new Horde_Http_Client(array(
            'request' => new Horde_Http_Request_Fopen()
        ));
        $response = $client->get($this->_server . '/doesntexist');
        $body = $response->getBody();
        $this->assertTrue(strlen($body) > 0);
    }
}
